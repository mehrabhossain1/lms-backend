# ğŸ“ Online Learning Management System (LMS)

An online education platform built with **Node.js, Express, and MongoDB** (MERN stack-ready), supporting both **admin** and **student** roles with secure authentication, role-based dashboards, course management, and review system.

## ğŸš€ Live Links

-   ğŸ”— Frontend: [Coming soon]
-   ğŸ”— Backend API: https://lms-backend-5lk5.onrender.com

---

## ğŸ› ï¸ Tech Stack

-   **Backend:** Node.js, Express.js
-   **Database:** MongoDB, Mongoose
-   **Authentication:** JWT, bcrypt
-   **Frontend:** Next.js, TailwindCSS, Zustand
-   **Other Tools:** CORS, dotenv, Postman (for testing)

---

## ğŸ” User Roles

### ğŸ‘¨â€ğŸ“ Student

-   Browse free & paid courses
-   Register/login securely
-   Enroll in paid courses after registration
-   Add course reviews
-   Access personal dashboard & track progress (planned)

### ğŸ‘¨â€ğŸ’¼ Admin

-   Login with admin credentials
-   Create, update, delete courses
-   View list of students & reviews (planned)
-   Access dashboard with statistics (planned)

---

## ğŸ“¦ API Features

### âœ… Auth Routes (`/api/auth`)

-   `POST /register`: Register new user (role: `student` or `admin`)
-   `POST /login`: Authenticate & receive JWT token

### âœ… Course Routes (`/api/courses`)

-   `GET /`: List all courses (public)
-   `GET /:id`: Get single course
-   `POST /`: Add new course (admin only)
-   `PUT /:id`: Update course (admin only)
-   `DELETE /:id`: Delete course (admin only)

### âœ… Review Routes (`/api/reviews`)

-   `POST /:courseId`: Add review for course (student only)
-   `GET /:courseId`: Get reviews for course (public)

---

## ğŸ§ª Postman Testing Guide

1. Register as admin and student
2. Login and store tokens
3. Test protected routes (courses/reviews)
4. View public course list and review data

---

## ğŸ“ Project Structure

```bash
backend/
â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ authController.js âœ…
â”‚   â”œâ”€â”€ courseController.js ğŸ†•
â”‚   â”œâ”€â”€ reviewController.js ğŸ†•
â”‚   â””â”€â”€ userController.js
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ User.js âœ…
â”‚   â”œâ”€â”€ Course.js ğŸ†•
â”‚   â”œâ”€â”€ Review.js ğŸ†•
â”‚   â””â”€â”€ Enrollment.js
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ authRoutes.js âœ…
â”‚   â”œâ”€â”€ courseRoutes.js ğŸ†•
â”‚   â”œâ”€â”€ reviewRoutes.js ğŸ†•
â”‚   â””â”€â”€ userRoutes.js
â”œâ”€â”€ middlewares/
â”‚   â”œâ”€â”€ authMiddleware.js âœ…
â”‚   â”œâ”€â”€ roleMiddleware.js âœ…
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ errorHandler.js âœ…
â”œâ”€â”€ server.js âœ…
â””â”€â”€ .env âœ…
```

<!-- ## ğŸš€ Installation

```bash
git clone https://github.com/mehrabhossain1/stock-sales-management-backend
cd stock-sales-management-backend
npm install
```

## âš™ï¸ Environment Variables

Create a .env file in the root with the following:

```bash
PORT=5000
JWT_SECRET=your_jwt_secret
CONNECTION_STRING=your_mongodb_connection_string
```

## â–¶ï¸ Run the Server

```bash
npm run dev
```

## ğŸ“ Folder Structure

```bash
backend/
â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ authController.js âœ…
â”‚   â”œâ”€â”€ courseController.js ğŸ†•
â”‚   â”œâ”€â”€ reviewController.js ğŸ†•
â”‚   â””â”€â”€ userController.js
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ User.js âœ…
â”‚   â”œâ”€â”€ Course.js ğŸ†•
â”‚   â”œâ”€â”€ Review.js ğŸ†•
â”‚   â””â”€â”€ Enrollment.js
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ authRoutes.js âœ…
â”‚   â”œâ”€â”€ courseRoutes.js ğŸ†•
â”‚   â”œâ”€â”€ reviewRoutes.js ğŸ†•
â”‚   â””â”€â”€ userRoutes.js
â”œâ”€â”€ middlewares/
â”‚   â”œâ”€â”€ authMiddleware.js âœ…
â”‚   â”œâ”€â”€ roleMiddleware.js âœ…
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ errorHandler.js âœ…
â”œâ”€â”€ server.js âœ…
â””â”€â”€ .env âœ…
``` -->

<!-- ## ğŸ”„ API Endpoints

| Method | Endpoint   | Roles Allowed              | Description             |
| ------ | ---------- | -------------------------- | ----------------------- |
| GET    | `/admin`   | `admin`                    | Only Admin can access   |
| GET    | `/manager` | `admin`, `manager`         | Admin or Manager access |
| GET    | `/user`    | `admin`, `manager`, `user` | All roles can access    |

### ğŸ“¦ Product Endpoints (`/api/products`) â€“ Admin Only

| Method | Endpoint            | Roles Allowed | Description      |
| ------ | ------------------- | ------------- | ---------------- |
| GET    | `/api/products`     | `admin`       | Get all products |
| POST   | `/api/products`     | `admin`       | Create product   |
| PUT    | `/api/products/:id` | `admin`       | Update product   |
| DELETE | `/api/products/:id` | `admin`       | Delete product   |

### ğŸ’¸ Sales Endpoints (`/api/sales`) â€“ Admin and Manager

| Method | Endpoint          | Roles Allowed      | Description                          |
| ------ | ----------------- | ------------------ | ------------------------------------ |
| POST   | `/api/sales`      | `admin`, `manager` | Record a sale                        |
| GET    | `/api/sales`      | `admin`, `manager` | Get all sales (role-based filtering) |
| GET    | `/api/sales/dues` | `admin`, `manager` | Get all due (unpaid) sales           | -->

<!-- ## ğŸ›¡ï¸ Middleware Usage

âœ… `verifyToken`
Checks for a valid JWT in the request header.

âœ… `authorizeRoles(...allowedRoles)`
Restricts route access to users with specified roles.

ğŸ” Sales are linked to `product` and `soldBy` using Mongoose `.populate()`
ğŸ“‰ Product stock is automatically reduced on each sale
ğŸ§¾ Dues are calculated by `total - paid`

## ğŸ“¦ Example Request (using token)

```bash
GET /admin
Authorization: Bearer <your_token>
```

ğŸ“Œ Example: `authorizeRoles("admin")` protects routes only for admin users. -->

## ğŸ“„ License

This project is licensed under the MIT License.

## ğŸ™Œ Author

Made with â¤ï¸ by Meharab Hossan Munna
